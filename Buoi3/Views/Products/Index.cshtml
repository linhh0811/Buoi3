@model IEnumerable<Buoi3.Models.Product>

@{
    ViewData["Title"] = "Index";
    var search = ViewData["Search"] as string ?? string.Empty;
    var priceFrom = ViewData["PriceFrom"] as decimal?;
    var priceTo = ViewData["PriceTo"] as decimal?;
    var sortBy = ViewData["SortBy"] as string ?? string.Empty;
    var order = ViewData["Order"] as string ?? "asc";
    
}

<div class="container">
    <p>Search</p>
    <form asp-action="Index" method="post">
    <div class="form-row">
        <label for="search">Product name:</label>
        <input type="text"  id="search"  name="search" value="@search"  placeholder="Product name">
        <br></br>
         <label for="priceFrom">Price from:</label>
          <input type="number" id="priceFrom" name="priceFrom" value="@priceFrom" >
     
        <br></br>
        <label for="priceTo">To:</label>
        <input type="number" id="priceTo" name="priceTo" value="@priceTo">
        <br></br>
        <label for="sortBy">Sort by:</label>
        <select id="sortBy" name="sortBy" value="@sortBy">
            <option value=""></option>
            <option value="name">Name</option>
            <option value="price">Price</option>
            <option value="rating">Rating</option>
                <option value="model">Model</option>
                 <option value="brand">Brand</option>
                <option value="quantity">Quantity</option>
               
        </select>
        <br></br>
        <label for="order">Order:</label>
        <select id="order" name="order" value="@order">

            <option value="asc">Ascending</option>
            <option value="desc">Descending</option>
        </select>

        <br></br>
        <div class="button-group">
			<button type="submit" class="apply-btn">Apply</button>
            <button type="reset" class="clear-btn" onclick="window.location.href='@Url.Action("Index", "Products")'">Clear</button>
          
           
        </div>
        </div>
    </form>
</div>
<style> 
input[type="text"] {
    padding: 8px;
    margin-right: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
}
         .container {
        width: 100%;
        height: 50%;
        
        margin: 0 auto;
        padding: 20px;
        background-color: #f9f9f9;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .button-group {
        text-align: center;
        margin-top: 20px;
    }

    .clear-btn {
        background-color: gray;
    }
    .apply-btn{
        background-color: plum;
    }
    form{
        display: flex;
    }
 
</style>




<br></br>



<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>
<table class="table">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.ProductName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quantity)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Brand)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Model)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ManufactureDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ExpirationDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Rating)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.IsAvailable)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CreatedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.UpdatedDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Category)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
@foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.ProductName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Price)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Quantity)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Brand)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Model)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ManufactureDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ExpirationDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Rating)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.IsAvailable)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.CreatedDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.UpdatedDate)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Category.CategoryName)
            </td>
            <td>
                <a asp-action="Edit" asp-route-id="@item.ProductId">Edit</a> |
                <a asp-action="Details" asp-route-id="@item.ProductId">Details</a> |
                <a asp-action="Delete" asp-route-id="@item.ProductId">Delete</a>
            </td>
        </tr>
}
    </tbody>
</table>

@* <div class="pagination">
    @if (ViewBag.CurrentPage > 1)
    {
        <a asp-action="Index" asp-route-page="@(ViewBag.CurrentPage - 1)" asp-route-pageSize="@ViewBag.PageSize">Previous</a>
    }

    @for (int i = 1; i < ViewBag.TotalPages; i++)
    {
        <a asp-action="Index" asp-route-page="@i" asp-route-pageSize="@ViewBag.PageSize" class="@(i == ViewBag.CurrentPage ? "active" : "")">@i</a>
    }

    @if (ViewBag.CurrentPage < ViewBag.TotalPages)
    {
        <a asp-action="Index" asp-route-page="@(ViewBag.CurrentPage + 1)" asp-route-pageSize="@ViewBag.PageSize">Next</a>
    }
</div> *@
<div>
    <nav aria-label="Page navigation example">
        <ul class="pagination">
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li class="page-item"><a class="page-link">1</a></li>
            <li class="page-item"><a class="page-link" asp-action="Index2">2</a></li>
            <li class="page-item">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
</div>